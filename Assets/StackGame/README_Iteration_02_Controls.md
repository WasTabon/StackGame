# README — Iteration 2: Управление и UI

## Что изменилось

### Новые скрипты:
- **InputController.cs** — обрабатывает инпут (клавиатура + UI кнопки). Стрелки вверх/вниз — выбор слоя, влево/вправо — вращение на 90° с анимацией DOTween (OutBack ease для приятного ощущения). Блокирует инпут пока анимация вращения не завершится.
- **UIButtonFeedback.cs** — компонент для кнопок: анимация нажатия (scale down + darken) и отпускания (scale up с OutBack bounce).
- **SetupIteration2.cs** — Editor скрипт: создаёт InputController, полный UI (Canvas, контрол-панель, кнопки, индикатор слоя).

### Изменённые скрипты:
- **BlockLayer.cs** — добавлена подсветка активного слоя (плавное осветление цветов через vertex colors с Lerp в Update).
- **CameraController.cs** — переделан: теперь плавно следует за выбранным слоем через DOTween (DOMove + DOTween.To для look target).

## Как настроить

1. Заменить файлы `BlockLayer.cs` и `CameraController.cs`.
2. Добавить новые файлы `InputController.cs`, `UIButtonFeedback.cs` в `Assets/STACK/Scripts/`.
3. Добавить `SetupIteration2.cs` в `Assets/STACK/Scripts/Editor/`.
4. В меню Unity: **STACK → Setup Gameplay UI and Controls (Iteration 2)**.
5. Editor скрипт создаст: InputController, Canvas с контрол-панелью, кнопки навигации и вращения, кнопку Confirm, индикатор слоя. Все ссылки прокинет автоматически.

## UI Layout (портретная ориентация)

```
┌─────────────────────────┐
│      [Layer 1 / 6]      │  ← индикатор вверху
│                         │
│                         │
│      TOWER VIEW         │
│                         │
│                         │
├─────────────────────────┤
│                         │
│  [▲]     [ ✓ ]    [◄][►]│  ← панель управления
│  [▼]               │
│                         │
└─────────────────────────┘
```

- Левая сторона: Up/Down — навигация по слоям
- Центр: Confirm (пока пустой, будет использован в итерации 4)
- Правая сторона: Left/Right — вращение слоя

## Как тестировать

- **Клавиатура:** стрелки вверх/вниз — выбор слоя, влево/вправо — вращение.
- **UI кнопки:** тап/клик по стрелкам на панели управления.
- При смене слоя: камера плавно перемещается, предыдущий слой тускнеет, новый осветляется.
- При вращении: блок анимированно поворачивается на 90° с лёгким bounce-эффектом.
- Индикатор вверху показывает текущий слой.
- Кнопки при нажатии уменьшаются и темнеют, при отпускании — bounce обратно.

## Ожидаемый результат

Полностью управляемая башня: можно выбирать слои и вращать их. Камера плавно следит. UI кнопки работают с тактильным feedback. Confirm пока ничего не делает — функционал будет в итерации 4.
